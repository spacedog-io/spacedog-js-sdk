(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
    typeof define === 'function' && define.amd ? define(factory) :
    (global.SpaceDog = factory());
}(this, (function () { 'use strict';

var Config = {

    backendId: null,

    default_authorization_header: null

};

var UrlBuilder = {
    forLogin: function forLogin() {
        return 'https://' + Config.backendId + '.spacedog.io/1/login';
    },
    forSearch: function forSearch(type) {
        return 'https://' + Config.backendId + '.spacedog.io/1/search/' + type;
    }
};

var Credentials = {
    /**
     * opts : { username:string, password:string, rememberMe:bool }
     * cb : callback function
     */
    login: function login(opts, cb) {

        var data = JSON.stringify({});

        var xhr = new XMLHttpRequest();

        var url = UrlBuilder.forLogin();

        xhr.onreadystatechange = function () {
            if (xhr.readyState === 4) {
                try {
                    var json = JSON.parse(xhr.responseText);

                    if (!json.success) {

                        cb(json, null);
                    } else {

                        Config.default_authorization_header = "Bearer " + json.accessToken;
                        if (opts.rememberMe) {
                            localStorage.setItem('SPACEDOG_CREDENTIALS_TOKEN', JSON.stringify({
                                "accessToken": json.accessToken,
                                "backendId": Config.backendId
                            }));
                        }
                        cb(null, json);
                    }
                } catch (e) {
                    console.warn("SpaceDog.Credentials# could not parse xhr.responseText and therefore not able to 1/ set authorization headers 2/ remember user token, if rememberMe is true\nPossibly something else. Check the caught exeption:", e);
                    cb(null, xhr.responseText);
                }
            }
        };

        xhr.open("GET", url);
        try {
            xhr.setRequestHeader("Authorization", "Basic " + new Buffer(opts.username + ":" + opts.password).toString('base64'));
        } catch (e) {
            xhr.setRequestHeader("Authorization", "Basic " + btoa(opts.username + ":" + opts.password));
        }

        xhr.send();
    },
    loginWithSavedCredentials: function loginWithSavedCredentials(cb) {

        var saved = JSON.parse(localStorage.getItem('SPACEDOG_CREDENTIALS_TOKEN'));

        Config.backendId = saved.backendId;

        var authorization = "Bearer " + saved.accessToken;

        var xhr = new XMLHttpRequest();

        var url = UrlBuilder.forLogin();

        xhr.onreadystatechange = function () {
            if (xhr.readyState === 4) {
                try {
                    var json = JSON.parse(xhr.responseText);

                    if (!json.success) {

                        cb(json, null);
                    } else {

                        Config.default_authorization_header = "Bearer " + json.accessToken;
                        cb(null, json);
                    }
                } catch (e) {
                    console.warn("SpaceDog.Credentials# could not parse xhr.responseText and therefore not able to 1/ set authorization headers 2/ remember user token, if rememberMe is true\nPossibly something else. Check the caught exeption:", e);
                    cb(null, xhr.responseText);
                }
            }
        };

        xhr.open("GET", url);
        xhr.setRequestHeader("Authorization", authorization);
        xhr.send();
    },
    forget: function forget() {
        localStorage.removeItem('SPACEDOG_CREDENTIALS_TOKEN');
    },
    getRememberedState: function getRememberedState() {
        return JSON.parse(localStorage.getItem('SPACEDOG_CREDENTIALS_TOKEN'));
    },
    canTryLogin: function canTryLogin() {
        return localStorage.getItem('SPACEDOG_CREDENTIALS_TOKEN') != undefined && localStorage.getItem('SPACEDOG_CREDENTIALS_TOKEN') != null;
    }
};

var Data = {

    /**
     * opts : { type:string }
     * cb : callback function
     */
    search: function search(opts, cb) {

        var data = JSON.stringify({});

        var xhr = new XMLHttpRequest();

        var url = UrlBuilder.forSearch(opts.type);

        xhr.onreadystatechange = function () {
            if (xhr.readyState === 4) {
                try {
                    cb(null, JSON.parse(xhr.responseText));
                } catch (e) {
                    cb(null, xhr.responseText);
                }
            }
        };

        xhr.open("POST", url);
        xhr.setRequestHeader("content-type", "application/json");
        // TEST, to remove after we can update acl (see issue https://github.com/spacedog-io/spacedog-server/issues/54)
        //xhr.setRequestHeader("authorization", "Basic ZHVtbXliYWNrZW5kOmhpIGR1bW15YmFja2VuZA==");

        xhr.send(data);
    }
};

var SpaceDog = {
    initialize: function initialize(backendId) {
        if (backendId == undefined) {
            throw "BackendId is required.";
        }
        Config.backendId = backendId;
    },
    getBackendId: function getBackendId() {
        return Config.backendId;
    },
    forgetAll: function forgetAll() {
        Config.backendId = null;
        Config.default_authorization_header = null;
    }
};

SpaceDog._Config = Config; // pas en release ?
SpaceDog.Credentials = Credentials;
SpaceDog.Data = Data;

return SpaceDog;

})));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbInNyYy9saWIvY29uZmlnLmpzIiwic3JjL2xpYi91cmxCdWlsZGVyLmpzIiwic3JjL2xpYi9jcmVkZW50aWFscy5qcyIsInNyYy9saWIvZGF0YS5qcyIsInNyYy9zcGFjZWRvZy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XG5cbiAgICBiYWNrZW5kSWQ6bnVsbCxcblxuICAgIGRlZmF1bHRfYXV0aG9yaXphdGlvbl9oZWFkZXI6bnVsbFxuXG59IiwiaW1wb3J0IENvbmZpZyBmcm9tICcuL2NvbmZpZy5qcydcblxuXG5leHBvcnQgZGVmYXVsdCB7XG5cbiAgICBmb3JMb2dpbiAoKSB7XG4gICAgICAgIHJldHVybiBgaHR0cHM6Ly8ke0NvbmZpZy5iYWNrZW5kSWR9LnNwYWNlZG9nLmlvLzEvbG9naW5gXG4gICAgfSxcblxuXG4gICAgZm9yU2VhcmNoICh0eXBlKSB7XG4gICAgICAgIHJldHVybiBgaHR0cHM6Ly8ke0NvbmZpZy5iYWNrZW5kSWR9LnNwYWNlZG9nLmlvLzEvc2VhcmNoL2ArdHlwZVxuICAgIH1cblxuXG5cbn0iLCJpbXBvcnQgVXJsQnVpbGRlciBmcm9tICcuL3VybEJ1aWxkZXIuanMnXG5pbXBvcnQgQ29uZmlnIGZyb20gJy4vY29uZmlnLmpzJ1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgLyoqXG4gICAgICogb3B0cyA6IHsgdXNlcm5hbWU6c3RyaW5nLCBwYXNzd29yZDpzdHJpbmcsIHJlbWVtYmVyTWU6Ym9vbCB9XG4gICAgICogY2IgOiBjYWxsYmFjayBmdW5jdGlvblxuICAgICAqL1xuICAgIGxvZ2luIChvcHRzLCBjYikge1xuXG4gICAgICAgIHZhciBkYXRhID0gSlNPTi5zdHJpbmdpZnkoe30pO1xuXG4gICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgICAgICB2YXIgdXJsID0gVXJsQnVpbGRlci5mb3JMb2dpbigpO1xuXG4gICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0KSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KTtcblxuICAgICAgICAgICAgICAgIGlmICghanNvbi5zdWNjZXNzKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgY2IoanNvbiwgbnVsbClcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBDb25maWcuZGVmYXVsdF9hdXRob3JpemF0aW9uX2hlYWRlciA9IFwiQmVhcmVyIFwiK2pzb24uYWNjZXNzVG9rZW5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdHMucmVtZW1iZXJNZSkge1xuICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdTUEFDRURPR19DUkVERU5USUFMU19UT0tFTicsIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYWNjZXNzVG9rZW5cIjpqc29uLmFjY2Vzc1Rva2VuLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJiYWNrZW5kSWRcIjpDb25maWcuYmFja2VuZElkXG4gICAgICAgICAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2IobnVsbCwganNvbilcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJTcGFjZURvZy5DcmVkZW50aWFscyMgY291bGQgbm90IHBhcnNlIHhoci5yZXNwb25zZVRleHQgYW5kIHRoZXJlZm9yZSBub3QgYWJsZSB0byAxLyBzZXQgYXV0aG9yaXphdGlvbiBoZWFkZXJzIDIvIHJlbWVtYmVyIHVzZXIgdG9rZW4sIGlmIHJlbWVtYmVyTWUgaXMgdHJ1ZVxcblBvc3NpYmx5IHNvbWV0aGluZyBlbHNlLiBDaGVjayB0aGUgY2F1Z2h0IGV4ZXB0aW9uOlwiLCBlKVxuICAgICAgICAgICAgICAgIGNiKG51bGwsIHhoci5yZXNwb25zZVRleHQpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgeGhyLm9wZW4oXCJHRVRcIiwgdXJsKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQXV0aG9yaXphdGlvblwiLCBcIkJhc2ljIFwiK25ldyBCdWZmZXIob3B0cy51c2VybmFtZStcIjpcIitvcHRzLnBhc3N3b3JkKS50b1N0cmluZygnYmFzZTY0JykpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkF1dGhvcml6YXRpb25cIiwgXCJCYXNpYyBcIitidG9hKG9wdHMudXNlcm5hbWUrXCI6XCIrb3B0cy5wYXNzd29yZCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgeGhyLnNlbmQoKTtcbiAgICB9LFxuXG4gICAgbG9naW5XaXRoU2F2ZWRDcmVkZW50aWFscyAoY2IpICB7XG5cbiAgICAgICAgdmFyIHNhdmVkID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnU1BBQ0VET0dfQ1JFREVOVElBTFNfVE9LRU4nKSlcblxuICAgICAgICBDb25maWcuYmFja2VuZElkID0gc2F2ZWQuYmFja2VuZElkXG5cbiAgICAgICAgdmFyIGF1dGhvcml6YXRpb24gPSBcIkJlYXJlciBcIitzYXZlZC5hY2Nlc3NUb2tlbiAgXG5cbiAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgICAgIHZhciB1cmwgPSBVcmxCdWlsZGVyLmZvckxvZ2luKCk7XG5cbiAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDQpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFqc29uLnN1Y2Nlc3MpIHtcblxuICAgICAgICAgICAgICAgICAgICBjYihqc29uLCBudWxsKVxuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIENvbmZpZy5kZWZhdWx0X2F1dGhvcml6YXRpb25faGVhZGVyID0gXCJCZWFyZXIgXCIranNvbi5hY2Nlc3NUb2tlblxuICAgICAgICAgICAgICAgICAgICBjYihudWxsLCBqc29uKVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlNwYWNlRG9nLkNyZWRlbnRpYWxzIyBjb3VsZCBub3QgcGFyc2UgeGhyLnJlc3BvbnNlVGV4dCBhbmQgdGhlcmVmb3JlIG5vdCBhYmxlIHRvIDEvIHNldCBhdXRob3JpemF0aW9uIGhlYWRlcnMgMi8gcmVtZW1iZXIgdXNlciB0b2tlbiwgaWYgcmVtZW1iZXJNZSBpcyB0cnVlXFxuUG9zc2libHkgc29tZXRoaW5nIGVsc2UuIENoZWNrIHRoZSBjYXVnaHQgZXhlcHRpb246XCIsIGUpXG4gICAgICAgICAgICAgICAgY2IobnVsbCwgeGhyLnJlc3BvbnNlVGV4dClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB4aHIub3BlbihcIkdFVFwiLCB1cmwpO1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkF1dGhvcml6YXRpb25cIiwgYXV0aG9yaXphdGlvbik7XG4gICAgICAgIHhoci5zZW5kKCk7XG4gICAgfSxcblxuXG4gICAgZm9yZ2V0ICgpIHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ1NQQUNFRE9HX0NSRURFTlRJQUxTX1RPS0VOJylcbiAgICB9LFxuXG4gICAgZ2V0UmVtZW1iZXJlZFN0YXRlICgpIHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ1NQQUNFRE9HX0NSRURFTlRJQUxTX1RPS0VOJykpXG4gICAgfSxcblxuICAgIGNhblRyeUxvZ2luICgpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdTUEFDRURPR19DUkVERU5USUFMU19UT0tFTicpIT11bmRlZmluZWQgJiYgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ1NQQUNFRE9HX0NSRURFTlRJQUxTX1RPS0VOJykhPW51bGxcbiAgICB9XG59IiwiaW1wb3J0IFVybEJ1aWxkZXIgZnJvbSAnLi91cmxCdWlsZGVyLmpzJ1xuXG5leHBvcnQgZGVmYXVsdCB7XG5cbiAgICAvKipcbiAgICAgKiBvcHRzIDogeyB0eXBlOnN0cmluZyB9XG4gICAgICogY2IgOiBjYWxsYmFjayBmdW5jdGlvblxuICAgICAqL1xuICAgIHNlYXJjaCAob3B0cywgY2IpIHtcblxuICAgICAgICB2YXIgZGF0YSA9IEpTT04uc3RyaW5naWZ5KHt9KTtcblxuICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAgICAgdmFyIHVybCA9IFVybEJ1aWxkZXIuZm9yU2VhcmNoKG9wdHMudHlwZSk7XG5cbiAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDQpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY2IobnVsbCwgSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KSlcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjYihudWxsLCB4aHIucmVzcG9uc2VUZXh0KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHhoci5vcGVuKFwiUE9TVFwiLCB1cmwpO1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcImNvbnRlbnQtdHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb25cIik7XG4gICAgICAgIC8vIFRFU1QsIHRvIHJlbW92ZSBhZnRlciB3ZSBjYW4gdXBkYXRlIGFjbCAoc2VlIGlzc3VlIGh0dHBzOi8vZ2l0aHViLmNvbS9zcGFjZWRvZy1pby9zcGFjZWRvZy1zZXJ2ZXIvaXNzdWVzLzU0KVxuICAgICAgICAvL3hoci5zZXRSZXF1ZXN0SGVhZGVyKFwiYXV0aG9yaXphdGlvblwiLCBcIkJhc2ljIFpIVnRiWGxpWVdOclpXNWtPbWhwSUdSMWJXMTVZbUZqYTJWdVpBPT1cIik7XG5cbiAgICAgICAgeGhyLnNlbmQoZGF0YSk7XG5cbiAgICB9XG59IiwiXG5cbmltcG9ydCBDb25maWcgZnJvbSAnLi9saWIvY29uZmlnLmpzJ1xuaW1wb3J0IENyZWRlbnRpYWxzIGZyb20gJy4vbGliL2NyZWRlbnRpYWxzLmpzJ1xuaW1wb3J0IERhdGEgZnJvbSAnLi9saWIvZGF0YS5qcydcblxuXG52YXIgU3BhY2VEb2cgPSB7XG4gICAgaW5pdGlhbGl6ZSAoYmFja2VuZElkKSB7XG4gICAgICAgIGlmIChiYWNrZW5kSWQgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBcIkJhY2tlbmRJZCBpcyByZXF1aXJlZC5cIlxuICAgICAgICB9XG4gICAgICAgIENvbmZpZy5iYWNrZW5kSWQgPSBiYWNrZW5kSWRcbiAgICB9LFxuICAgIFxuICAgIGdldEJhY2tlbmRJZCAoKSB7XG4gICAgICAgIHJldHVybiBDb25maWcuYmFja2VuZElkXG4gICAgfSxcblxuICAgIGZvcmdldEFsbCAoKSB7XG4gICAgICAgIENvbmZpZy5iYWNrZW5kSWQgPSBudWxsXG4gICAgICAgIENvbmZpZy5kZWZhdWx0X2F1dGhvcml6YXRpb25faGVhZGVyID0gbnVsbFxuICAgIH1cbn1cblxuXG5TcGFjZURvZy5fQ29uZmlnID0gQ29uZmlnIC8vIHBhcyBlbiByZWxlYXNlID9cblNwYWNlRG9nLkNyZWRlbnRpYWxzID0gQ3JlZGVudGlhbHNcblNwYWNlRG9nLkRhdGEgPSBEYXRhXG5cbmV4cG9ydCBkZWZhdWx0IFNwYWNlRG9nXG4iXSwibmFtZXMiOlsiQ29uZmlnIiwiYmFja2VuZElkIiwidHlwZSIsIm9wdHMiLCJjYiIsImRhdGEiLCJKU09OIiwic3RyaW5naWZ5IiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJ1cmwiLCJVcmxCdWlsZGVyIiwiZm9yTG9naW4iLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwianNvbiIsInBhcnNlIiwicmVzcG9uc2VUZXh0Iiwic3VjY2VzcyIsImRlZmF1bHRfYXV0aG9yaXphdGlvbl9oZWFkZXIiLCJhY2Nlc3NUb2tlbiIsInJlbWVtYmVyTWUiLCJzZXRJdGVtIiwiZSIsIndhcm4iLCJvcGVuIiwic2V0UmVxdWVzdEhlYWRlciIsIkJ1ZmZlciIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJ0b1N0cmluZyIsImJ0b2EiLCJzZW5kIiwic2F2ZWQiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiYXV0aG9yaXphdGlvbiIsInJlbW92ZUl0ZW0iLCJ1bmRlZmluZWQiLCJmb3JTZWFyY2giLCJTcGFjZURvZyIsIl9Db25maWciLCJDcmVkZW50aWFscyIsIkRhdGEiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLGFBQWU7O2VBRUQsSUFGQzs7a0NBSWtCOztDQUpqQzs7QUNHQSxpQkFBZTtZQUFBLHNCQUVDOzRCQUNVQSxPQUFPQyxTQUF6QjtLQUhPO2FBQUEscUJBT0FDLElBUEEsRUFPTTtlQUNOLGFBQVdGLE9BQU9DLFNBQWxCLDhCQUFvREMsSUFBM0Q7O0NBUlI7O0FDQUEsa0JBQWU7Ozs7O1NBQUEsaUJBS0pDLElBTEksRUFLRUMsRUFMRixFQUtNOztZQUVUQyxPQUFPQyxLQUFLQyxTQUFMLENBQWUsRUFBZixDQUFYOztZQUVJQyxNQUFNLElBQUlDLGNBQUosRUFBVjs7WUFFSUMsTUFBTUMsV0FBV0MsUUFBWCxFQUFWOztZQUVJQyxrQkFBSixHQUF5QixZQUFZO2dCQUMvQkwsSUFBSU0sVUFBSixLQUFtQixDQUF2QixFQUEwQjtvQkFDcEI7d0JBQ0lDLE9BQU9ULEtBQUtVLEtBQUwsQ0FBV1IsSUFBSVMsWUFBZixDQUFYOzt3QkFFSSxDQUFDRixLQUFLRyxPQUFWLEVBQW1COzsyQkFFWkgsSUFBSCxFQUFTLElBQVQ7cUJBRkosTUFJTzs7K0JBRUlJLDRCQUFQLEdBQXNDLFlBQVVKLEtBQUtLLFdBQXJEOzRCQUNJakIsS0FBS2tCLFVBQVQsRUFBcUI7eUNBQ05DLE9BQWIsQ0FBcUIsNEJBQXJCLEVBQW1EaEIsS0FBS0MsU0FBTCxDQUFlOytDQUNsRFEsS0FBS0ssV0FENkM7NkNBRXBEcEIsT0FBT0M7NkJBRjhCLENBQW5EOzsyQkFLQyxJQUFILEVBQVNjLElBQVQ7O2lCQWhCUixDQW1CRSxPQUFPUSxDQUFQLEVBQVU7NEJBQ0FDLElBQVIsQ0FBYSxrTkFBYixFQUFpT0QsQ0FBak87dUJBQ0csSUFBSCxFQUFTZixJQUFJUyxZQUFiOzs7U0F2QlI7O1lBNEJJUSxJQUFKLENBQVMsS0FBVCxFQUFnQmYsR0FBaEI7WUFDSTtnQkFDSWdCLGdCQUFKLENBQXFCLGVBQXJCLEVBQXNDLFdBQVMsSUFBSUMsTUFBSixDQUFXeEIsS0FBS3lCLFFBQUwsR0FBYyxHQUFkLEdBQWtCekIsS0FBSzBCLFFBQWxDLEVBQTRDQyxRQUE1QyxDQUFxRCxRQUFyRCxDQUEvQztTQURKLENBRUUsT0FBT1AsQ0FBUCxFQUFVO2dCQUNKRyxnQkFBSixDQUFxQixlQUFyQixFQUFzQyxXQUFTSyxLQUFLNUIsS0FBS3lCLFFBQUwsR0FBYyxHQUFkLEdBQWtCekIsS0FBSzBCLFFBQTVCLENBQS9DOzs7WUFHQUcsSUFBSjtLQWhETzs2QkFBQSxxQ0FtRGdCNUIsRUFuRGhCLEVBbURxQjs7WUFFeEI2QixRQUFRM0IsS0FBS1UsS0FBTCxDQUFXa0IsYUFBYUMsT0FBYixDQUFxQiw0QkFBckIsQ0FBWCxDQUFaOztlQUVPbEMsU0FBUCxHQUFtQmdDLE1BQU1oQyxTQUF6Qjs7WUFFSW1DLGdCQUFnQixZQUFVSCxNQUFNYixXQUFwQzs7WUFFSVosTUFBTSxJQUFJQyxjQUFKLEVBQVY7O1lBRUlDLE1BQU1DLFdBQVdDLFFBQVgsRUFBVjs7WUFFSUMsa0JBQUosR0FBeUIsWUFBWTtnQkFDL0JMLElBQUlNLFVBQUosS0FBbUIsQ0FBdkIsRUFBMEI7b0JBQ3BCO3dCQUNJQyxPQUFPVCxLQUFLVSxLQUFMLENBQVdSLElBQUlTLFlBQWYsQ0FBWDs7d0JBRUksQ0FBQ0YsS0FBS0csT0FBVixFQUFtQjs7MkJBRVpILElBQUgsRUFBUyxJQUFUO3FCQUZKLE1BSU87OytCQUVJSSw0QkFBUCxHQUFzQyxZQUFVSixLQUFLSyxXQUFyRDsyQkFDRyxJQUFILEVBQVNMLElBQVQ7O2lCQVZSLENBYUUsT0FBT1EsQ0FBUCxFQUFVOzRCQUNBQyxJQUFSLENBQWEsa05BQWIsRUFBaU9ELENBQWpPO3VCQUNHLElBQUgsRUFBU2YsSUFBSVMsWUFBYjs7O1NBakJSOztZQXNCSVEsSUFBSixDQUFTLEtBQVQsRUFBZ0JmLEdBQWhCO1lBQ0lnQixnQkFBSixDQUFxQixlQUFyQixFQUFzQ1UsYUFBdEM7WUFDSUosSUFBSjtLQXZGTztVQUFBLG9CQTJGRDtxQkFDT0ssVUFBYixDQUF3Qiw0QkFBeEI7S0E1Rk87c0JBQUEsZ0NBK0ZXO2VBQ1gvQixLQUFLVSxLQUFMLENBQVdrQixhQUFhQyxPQUFiLENBQXFCLDRCQUFyQixDQUFYLENBQVA7S0FoR087ZUFBQSx5QkFtR0k7ZUFDSkQsYUFBYUMsT0FBYixDQUFxQiw0QkFBckIsS0FBb0RHLFNBQXBELElBQWlFSixhQUFhQyxPQUFiLENBQXFCLDRCQUFyQixLQUFvRCxJQUE1SDs7Q0FwR1I7O0FDREEsV0FBZTs7Ozs7O1VBQUEsa0JBTUhoQyxJQU5HLEVBTUdDLEVBTkgsRUFNTzs7WUFFVkMsT0FBT0MsS0FBS0MsU0FBTCxDQUFlLEVBQWYsQ0FBWDs7WUFFSUMsTUFBTSxJQUFJQyxjQUFKLEVBQVY7O1lBRUlDLE1BQU1DLFdBQVc0QixTQUFYLENBQXFCcEMsS0FBS0QsSUFBMUIsQ0FBVjs7WUFFSVcsa0JBQUosR0FBeUIsWUFBWTtnQkFDL0JMLElBQUlNLFVBQUosS0FBbUIsQ0FBdkIsRUFBMEI7b0JBQ3BCO3VCQUNHLElBQUgsRUFBU1IsS0FBS1UsS0FBTCxDQUFXUixJQUFJUyxZQUFmLENBQVQ7aUJBREosQ0FFRSxPQUFPTSxDQUFQLEVBQVU7dUJBQ0wsSUFBSCxFQUFTZixJQUFJUyxZQUFiOzs7U0FMUjs7WUFVSVEsSUFBSixDQUFTLE1BQVQsRUFBaUJmLEdBQWpCO1lBQ0lnQixnQkFBSixDQUFxQixjQUFyQixFQUFxQyxrQkFBckM7Ozs7WUFJSU0sSUFBSixDQUFTM0IsSUFBVDs7Q0E3QlI7O0FDS0EsSUFBSW1DLFdBQVc7Y0FBQSxzQkFDQ3ZDLFNBREQsRUFDWTtZQUNmQSxhQUFhcUMsU0FBakIsRUFBNEI7a0JBQ2xCLHdCQUFOOztlQUVHckMsU0FBUCxHQUFtQkEsU0FBbkI7S0FMTztnQkFBQSwwQkFRSztlQUNMRCxPQUFPQyxTQUFkO0tBVE87YUFBQSx1QkFZRTtlQUNGQSxTQUFQLEdBQW1CLElBQW5CO2VBQ09rQiw0QkFBUCxHQUFzQyxJQUF0Qzs7Q0FkUjs7QUFtQkFxQixTQUFTQyxPQUFULEdBQW1CekMsTUFBbkI7QUFDQXdDLFNBQVNFLFdBQVQsR0FBdUJBLFdBQXZCO0FBQ0FGLFNBQVNHLElBQVQsR0FBZ0JBLElBQWhCLENBRUE7Ozs7In0=
